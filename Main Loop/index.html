<script>
main();

function main() {
    console.log('main');

    let running = true;

    init(); // 初始化整个体系，框架、图形、声音等等

    loop(running); // 主循环

    exit(); // 退出，关闭各种接口等
}

function init() {
    console.log('init');
}

function loop(running) {
    console.log('loop');

    while (running) {
        update();   // 执行游戏逻辑
        draw(); // 绘制游戏

        if (escape()) {
            running = false;
        }
    }
}

function update() {
    console.log('update');
}

function draw() {
    console.log('draw');
}

function escape() {
    console.log('escape');
}

function exit() {
    console.log('exit');
}
</script>